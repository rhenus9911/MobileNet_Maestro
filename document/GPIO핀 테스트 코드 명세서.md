### GPIO 핀 제어 및 상태 확인 프로그램 명세서

#### 1. 목적
- 라즈베리파이의 GPIO 핀을 제어하고 상태를 확인하여 테스트하는 프로그램을 개발한다.

#### 2. 동작
- GPIO 핀을 입력 또는 출력으로 설정하고, 해당 핀의 상태를 확인하여 테스트한다.
- GPIO 핀 0번부터 26번까지(볼트, 그라운드 제외) 순차적으로 테스트를 수행한다.
- 각 GPIO 핀에 대해 다음과 같은 테스트를 진행한다:
  - 핀을 출력으로 설정하고 HIGH 상태로 설정한 후, 입력 상태를 확인한다.
  - 핀을 출력으로 설정하고 LOW 상태로 설정한 후, 입력 상태를 확인한다.
- 테스트 결과에 따라 "fail" 또는 "success"를 출력한다.

#### 3. 사용된 라이브러리 및 함수
- `stdio.h`: 표준 입출력 함수
- `stdlib.h`: 표준 라이브러리 함수
- `fcntl.h`: 파일 제어 함수
- `unistd.h`: POSIX 표준 함수
- `sys/mman.h`: 메모리 매핑 함수

#### 4. 상수 및 매크로
- `GPIO_BASE`: GPIO 레지스터의 베이스 주소
- `GPFSEL0`, `GPFSEL1`, `GPFSEL2`: GPIO 핀의 기능 선택 레지스터 주소
- `GPSET0`: GPIO 핀의 출력 설정 레지스터 주소
- `GPCLR0`: GPIO 핀의 출력 클리어 레지스터 주소
- `GPLEV0`: GPIO 핀의 입력 레지스터 주소

#### 5. 주요 변수
- `fd`: 파일 디스크립터
- `gpio_base_addr`: GPIO 레지스터의 가상 메모리 주소
- `gpio_virtual_addr`: GPIO 레지스터의 가상 메모리 주소를 가리키는 포인터
- `gpfsel0`, `gpfsel1`, `gpfsel2`: GPIO 핀의 기능 선택 레지스터를 가리키는 포인터
- `gpset0`, `gpclr0`: GPIO 핀의 출력 레지스터를 가리키는 포인터
- `gplev0`: GPIO 핀의 입력 레지스터를 가리키는 포인터
- `pin`: GPIO 핀의 상태를 저장하는 변수
- `k`: GPIO 핀의 설정을 위한 변수
- `check`: 테스트 결과를 저장하는 변수

#### 6. 동작 흐름
1. `/dev/mem` 파일을 열어 파일 디스크립터를 획득한다.
2. 메모리 매핑을 통해 GPIO 레지스터의 가상 메모리 주소를 얻는다.
3. GPIO 핀 0번부터 26번까지 순차적으로 테스트를 수행한다:
   - GPIO 핀을 출력으로 설정하고 HIGH 상태로 설정한 후, 입력 상태를 확인한다.
   - GPIO 핀을 출력으로 설정하고 LOW 상태로 설정한 후, 입력 상태를 확인한다.
   - 테스트 결과에 따라 "fail" 또는 "success"를 출력한다.
4. 메모리 매핑을 해제하고 파일 디스크립터를 닫는다.

#### 7. 테스트 결과
- GPIO 핀의 입력 및 출력 상태를 확인하여 테스트를 수행한다.
- 테스트 결과에 따라 "fail" 또는 "success"를 출력한다.
- 테스트에 실패한 GPIO 핀 번호를 출력한다.
